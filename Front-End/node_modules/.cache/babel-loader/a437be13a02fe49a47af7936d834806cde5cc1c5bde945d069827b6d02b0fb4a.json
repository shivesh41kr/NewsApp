{"ast":null,"code":"var _jsxFileName = \"/home/shivesh-kumar/Desktop/django_news/Front-End/src/jsx/Components/article/article.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport './article.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PostDetails = () => {\n  _s();\n  const {\n    postId\n  } = useParams();\n  const [post, setPost] = useState(null);\n  const [loading, setLoading] = useState(true); // State to manage loading indicator\n  const [error, setError] = useState(null); // State to manage error\n  const [showFullDescription, setShowFullDescription] = useState(false); // State to manage full description visibility\n\n  useEffect(() => {\n    const fetchPostDetails = async () => {\n      const fetchUrl = `http://127.0.0.1:8000/apis/posts/${postId}/`;\n      try {\n        const response = await fetch(fetchUrl);\n        if (!response.ok) {\n          throw new Error(`Failed to fetch post details: ${response.statusText}`);\n        }\n        const data = await response.json();\n\n        // Fetch author details\n        const userResponse = await fetch(`http://127.0.0.1:8000/apis/users/${data.user}/`);\n        const userData = await userResponse.json();\n\n        // Fetch category details\n        const categoryResponses = await Promise.all(data.categories.map(async categoryId => {\n          const categoryResponse = await fetch(`http://127.0.0.1:8000/apis/categories/${categoryId}/`);\n          return categoryResponse.json();\n        }));\n        const categories = categoryResponses.map(category => ({\n          id: category.id,\n          name: category.name\n        }));\n        setPost({\n          ...data,\n          author: userData,\n          categories\n        });\n      } catch (error) {\n        console.error('Error fetching post details:', error);\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchPostDetails();\n  }, [postId]);\n  const toggleDescription = () => {\n    setShowFullDescription(!showFullDescription);\n  };\n  const formatDate = dateString => {\n    const options = {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    };\n    return new Date(dateString).toLocaleDateString(undefined, options);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 12\n    }, this); // Display loading indicator while fetching data\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }, this); // Display error message if fetch fails\n  }\n  if (!post) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"No post details available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 12\n    }, this); // Display message if post details are not available\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post-details\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"article-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"foryou-categories article-cat\",\n        children: post.categories.map(category => /*#__PURE__*/_jsxDEV(Link, {\n          to: `/category/${category.id}/posts`,\n          className: \"category-link\",\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: category.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 23\n          }, this)\n        }, category.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"article-title\",\n        children: post.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"BY: \", post.author.username]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Date Updated: \", formatDate(post.date_updated)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: post.banner_path,\n      className: \"article-img\",\n      alt: post.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"article-body\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"article-short forYoutext\",\n        children: [showFullDescription ? post.short_description : `${post.short_description.slice(0, 180)}...`, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleDescription,\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\" \", showFullDescription ? 'close' : 'more']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 10\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        XdangerouslySetInnerHTML: {\n          __html: post.content\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Keywords: \", post.meta_keywords]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Date Created: \", formatDate(post.date_created)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s(PostDetails, \"kdV+ce5CpLHdJW9DYG7wqFr2Ofo=\", false, function () {\n  return [useParams];\n});\n_c = PostDetails;\nexport default PostDetails;\nvar _c;\n$RefreshReg$(_c, \"PostDetails\");","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","jsxDEV","_jsxDEV","PostDetails","_s","postId","post","setPost","loading","setLoading","error","setError","showFullDescription","setShowFullDescription","fetchPostDetails","fetchUrl","response","fetch","ok","Error","statusText","data","json","userResponse","user","userData","categoryResponses","Promise","all","categories","map","categoryId","categoryResponse","category","id","name","author","console","message","toggleDescription","formatDate","dateString","options","year","month","day","Date","toLocaleDateString","undefined","children","fileName","_jsxFileName","lineNumber","columnNumber","className","to","title","username","date_updated","src","banner_path","alt","short_description","slice","onClick","XdangerouslySetInnerHTML","__html","content","meta_keywords","date_created","_c","$RefreshReg$"],"sources":["/home/shivesh-kumar/Desktop/django_news/Front-End/src/jsx/Components/article/article.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams,Link } from 'react-router-dom';\nimport './article.css';\n\nconst PostDetails = () => {\n  const { postId } = useParams();\n  const [post, setPost] = useState(null);\n  const [loading, setLoading] = useState(true); // State to manage loading indicator\n  const [error, setError] = useState(null); // State to manage error\n  const [showFullDescription, setShowFullDescription] = useState(false); // State to manage full description visibility\n\n  useEffect(() => {\n    const fetchPostDetails = async () => {\n      const fetchUrl = `http://127.0.0.1:8000/apis/posts/${postId}/`;\n      try {\n        const response = await fetch(fetchUrl);\n        if (!response.ok) {\n          throw new Error(`Failed to fetch post details: ${response.statusText}`);\n        }\n        const data = await response.json();\n\n        // Fetch author details\n        const userResponse = await fetch(`http://127.0.0.1:8000/apis/users/${data.user}/`);\n        const userData = await userResponse.json();\n\n        // Fetch category details\n        const categoryResponses = await Promise.all(\n          data.categories.map(async (categoryId) => {\n            const categoryResponse = await fetch(`http://127.0.0.1:8000/apis/categories/${categoryId}/`);\n            return categoryResponse.json();\n          })\n        );\n\n        const categories = categoryResponses.map(category => ({\n          id: category.id,\n          name: category.name\n        }));\n\n        setPost({ ...data, author: userData, categories });\n      } catch (error) {\n        console.error('Error fetching post details:', error);\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchPostDetails();\n  }, [postId]);\n\n  const toggleDescription = () => {\n    setShowFullDescription(!showFullDescription);\n  };\n\n  const formatDate = (dateString) => {\n    const options = { year: 'numeric', month: 'short', day: 'numeric' };\n    return new Date(dateString).toLocaleDateString(undefined, options);\n  };\n\n  if (loading) {\n    return <div>Loading...</div>; // Display loading indicator while fetching data\n  }\n\n  if (error) {\n    return <div>Error: {error}</div>; // Display error message if fetch fails\n  }\n\n  if (!post) {\n    return <div>No post details available.</div>; // Display message if post details are not available\n  }\n\n  return (\n    <div className=\"post-details\">\n      <div className='article-header'>\n      <div className=\"foryou-categories article-cat\">\n                  {post.categories.map(category => (\n                    <Link key={category.id} to={`/category/${category.id}/posts`} className=\"category-link\">\n                      <h5>{category.name}</h5>\n                    </Link>\n                  ))}\n                </div>\n      <h1 className='article-title'>{post.title}</h1>\n      <p>BY: {post.author.username}</p>\n      <p>Date Updated: {formatDate(post.date_updated)}</p>\n      </div>\n      <img src={post.banner_path} className='article-img' alt={post.title} />\n      <div className='article-body'>\n      <p className='article-short forYoutext'>\n        {showFullDescription ? post.short_description : `${post.short_description.slice(0, 180)}...`}\n        <button onClick={toggleDescription}>\n         <b> {showFullDescription ? 'close' : 'more'}</b>\n        </button>\n      </p>\n      <div XdangerouslySetInnerHTML={{ __html: post.content }}></div>\n      <p>Keywords: {post.meta_keywords}</p>\n      <p>Date Created: {formatDate(post.date_created)}</p>\n      {/* Add any other details you want to display */}\n    </div>\n    </div>\n  );\n};\n\nexport default PostDetails;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,SAAS,EAACC,IAAI,QAAQ,kBAAkB;AACjD,OAAO,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvB,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM;IAAEC;EAAO,CAAC,GAAGN,SAAS,CAAC,CAAC;EAC9B,MAAM,CAACO,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EAC9C,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EAC1C,MAAM,CAACc,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;;EAEvED,SAAS,CAAC,MAAM;IACd,MAAMiB,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACnC,MAAMC,QAAQ,GAAG,oCAAoCV,MAAM,GAAG;MAC9D,IAAI;QACF,MAAMW,QAAQ,GAAG,MAAMC,KAAK,CAACF,QAAQ,CAAC;QACtC,IAAI,CAACC,QAAQ,CAACE,EAAE,EAAE;UAChB,MAAM,IAAIC,KAAK,CAAC,iCAAiCH,QAAQ,CAACI,UAAU,EAAE,CAAC;QACzE;QACA,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;;QAElC;QACA,MAAMC,YAAY,GAAG,MAAMN,KAAK,CAAC,oCAAoCI,IAAI,CAACG,IAAI,GAAG,CAAC;QAClF,MAAMC,QAAQ,GAAG,MAAMF,YAAY,CAACD,IAAI,CAAC,CAAC;;QAE1C;QACA,MAAMI,iBAAiB,GAAG,MAAMC,OAAO,CAACC,GAAG,CACzCP,IAAI,CAACQ,UAAU,CAACC,GAAG,CAAC,MAAOC,UAAU,IAAK;UACxC,MAAMC,gBAAgB,GAAG,MAAMf,KAAK,CAAC,yCAAyCc,UAAU,GAAG,CAAC;UAC5F,OAAOC,gBAAgB,CAACV,IAAI,CAAC,CAAC;QAChC,CAAC,CACH,CAAC;QAED,MAAMO,UAAU,GAAGH,iBAAiB,CAACI,GAAG,CAACG,QAAQ,KAAK;UACpDC,EAAE,EAAED,QAAQ,CAACC,EAAE;UACfC,IAAI,EAAEF,QAAQ,CAACE;QACjB,CAAC,CAAC,CAAC;QAEH5B,OAAO,CAAC;UAAE,GAAGc,IAAI;UAAEe,MAAM,EAAEX,QAAQ;UAAEI;QAAW,CAAC,CAAC;MACpD,CAAC,CAAC,OAAOnB,KAAK,EAAE;QACd2B,OAAO,CAAC3B,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;QACpDC,QAAQ,CAACD,KAAK,CAAC4B,OAAO,CAAC;MACzB,CAAC,SAAS;QACR7B,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDK,gBAAgB,CAAC,CAAC;EACpB,CAAC,EAAE,CAACT,MAAM,CAAC,CAAC;EAEZ,MAAMkC,iBAAiB,GAAGA,CAAA,KAAM;IAC9B1B,sBAAsB,CAAC,CAACD,mBAAmB,CAAC;EAC9C,CAAC;EAED,MAAM4B,UAAU,GAAIC,UAAU,IAAK;IACjC,MAAMC,OAAO,GAAG;MAAEC,IAAI,EAAE,SAAS;MAAEC,KAAK,EAAE,OAAO;MAAEC,GAAG,EAAE;IAAU,CAAC;IACnE,OAAO,IAAIC,IAAI,CAACL,UAAU,CAAC,CAACM,kBAAkB,CAACC,SAAS,EAAEN,OAAO,CAAC;EACpE,CAAC;EAED,IAAIlC,OAAO,EAAE;IACX,oBAAON,OAAA;MAAA+C,QAAA,EAAK;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,CAAC,CAAC;EAChC;EAEA,IAAI3C,KAAK,EAAE;IACT,oBAAOR,OAAA;MAAA+C,QAAA,GAAK,SAAO,EAACvC,KAAK;IAAA;MAAAwC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,CAAC,CAAC;EACpC;EAEA,IAAI,CAAC/C,IAAI,EAAE;IACT,oBAAOJ,OAAA;MAAA+C,QAAA,EAAK;IAA0B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,CAAC,CAAC;EAChD;EAEA,oBACEnD,OAAA;IAAKoD,SAAS,EAAC,cAAc;IAAAL,QAAA,gBAC3B/C,OAAA;MAAKoD,SAAS,EAAC,gBAAgB;MAAAL,QAAA,gBAC/B/C,OAAA;QAAKoD,SAAS,EAAC,+BAA+B;QAAAL,QAAA,EACjC3C,IAAI,CAACuB,UAAU,CAACC,GAAG,CAACG,QAAQ,iBAC3B/B,OAAA,CAACF,IAAI;UAAmBuD,EAAE,EAAE,aAAatB,QAAQ,CAACC,EAAE,QAAS;UAACoB,SAAS,EAAC,eAAe;UAAAL,QAAA,eACrF/C,OAAA;YAAA+C,QAAA,EAAKhB,QAAQ,CAACE;UAAI;YAAAe,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK;QAAC,GADfpB,QAAQ,CAACC,EAAE;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEhB,CACP;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAChBnD,OAAA;QAAIoD,SAAS,EAAC,eAAe;QAAAL,QAAA,EAAE3C,IAAI,CAACkD;MAAK;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC/CnD,OAAA;QAAA+C,QAAA,GAAG,MAAI,EAAC3C,IAAI,CAAC8B,MAAM,CAACqB,QAAQ;MAAA;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACjCnD,OAAA;QAAA+C,QAAA,GAAG,gBAAc,EAACT,UAAU,CAAClC,IAAI,CAACoD,YAAY,CAAC;MAAA;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/C,CAAC,eACNnD,OAAA;MAAKyD,GAAG,EAAErD,IAAI,CAACsD,WAAY;MAACN,SAAS,EAAC,aAAa;MAACO,GAAG,EAAEvD,IAAI,CAACkD;IAAM;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACvEnD,OAAA;MAAKoD,SAAS,EAAC,cAAc;MAAAL,QAAA,gBAC7B/C,OAAA;QAAGoD,SAAS,EAAC,0BAA0B;QAAAL,QAAA,GACpCrC,mBAAmB,GAAGN,IAAI,CAACwD,iBAAiB,GAAG,GAAGxD,IAAI,CAACwD,iBAAiB,CAACC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,KAAK,eAC5F7D,OAAA;UAAQ8D,OAAO,EAAEzB,iBAAkB;UAAAU,QAAA,eAClC/C,OAAA;YAAA+C,QAAA,GAAG,GAAC,EAACrC,mBAAmB,GAAG,OAAO,GAAG,MAAM;UAAA;YAAAsC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC,eACJnD,OAAA;QAAK+D,wBAAwB,EAAE;UAAEC,MAAM,EAAE5D,IAAI,CAAC6D;QAAQ;MAAE;QAAAjB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC/DnD,OAAA;QAAA+C,QAAA,GAAG,YAAU,EAAC3C,IAAI,CAAC8D,aAAa;MAAA;QAAAlB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACrCnD,OAAA;QAAA+C,QAAA,GAAG,gBAAc,EAACT,UAAU,CAAClC,IAAI,CAAC+D,YAAY,CAAC;MAAA;QAAAnB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEjD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEV,CAAC;AAACjD,EAAA,CAhGID,WAAW;EAAA,QACIJ,SAAS;AAAA;AAAAuE,EAAA,GADxBnE,WAAW;AAkGjB,eAAeA,WAAW;AAAC,IAAAmE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}